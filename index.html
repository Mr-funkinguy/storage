<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<link rel="icon" href="https://github.com/Mr-funkinguy/storage/blob/Hi223453e4654776535464567898765432/Untitled_Artwork%20247.png?raw=true">
<title>ChatRoom</title>
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<meta name="description" content="A chat Room">
<style>
    body {
        margin: 0;

        font-family: Arial, Helvetica, sans-serif;
        background-color: rgb(45, 45, 45);
    }

    ::-webkit-scrollbar {
  width: 10px;
}

/* Track */
::-webkit-scrollbar-track {
  background-color: #282828;

  border-radius: 10px;
}
 
/* Handle */
::-webkit-scrollbar-thumb {
  background-color: rgb(45, 45, 45);
  border-radius: 10px;
}

/* Handle on hover */
::-webkit-scrollbar-thumb:hover {
  background-color: rgb(60, 60, 60);
}
    button {
 transform: rotate(-25deg) skew(25deg);
 transform-style: preserve-3d;
 position: relative;
 list-style: none;
 width: 100px;
 height: 32px;
 cursor: pointer;
 bottom: 0px;
 border-radius: 15px;
 right: -10px;
 transform: rotate(0deg);
 border: none;
 background: transparent;
 font-family: inherit;
}

button:before {
 content: '';
 position: absolute;
 bottom: -10px;
 border-radius: 15px;
 left: -5px;
 width: 100%;
 height: 10px;
 background: #2a2a2a;
 transform: skewX(-41deg);
}

button:after {
 content: '';
 position: absolute;
 top: 5px;
 border-radius: 15px;
 left: -9px;
 width: 9px;
 height: 100%;
 background: #2a2a2a;
 transform: skewY(-49deg);
}

button span {
 position: absolute;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 border-radius: 10px;
 background: #597e6e;
 color: #fff;
 font-size: 25px;
 transition: 1.1s ease-out;
}

button:hover span {
 z-index: 1000;
 transition: .3s;
 color: #fff;
}

button:hover span:nth-child(5) {
 transform: translate(40px, 0px);
 opacity: 1;
}

button:hover span:nth-child(4) {
 transform: translate(30px, 0px);
 opacity: .8;
}

button:hover span:nth-child(3) {
 transform: translate(20px, 0px);
 opacity: .6;
}

button:hover span:nth-child(2) {
 transform: translate(10px, 0px);
 opacity: .4;
}

button:hover span:nth-child(1) {
 transform: translate(0px, 0px);
 opacity: .2;
}

button:active span:nth-child(5) {
 transform: translate(20px, 0px);
 opacity: 1;
}

button:active span:nth-child(4) {
 transform: translate(15px, 0px);
}

button:active span:nth-child(3) {
 transform: translate(10px, 0px);
}

button:active span:nth-child(2) {
 transform: translate(5px, 0px);
}

button:active span:nth-child(1) {
 transform: translate(0px, 0px);
}

button:nth-child(1):hover span {
 background: #52E19F;
}

    .textInputWrapper {
  position: relative;
  width: 180px;
  margin: 12px 5px;
  --accent-color: #676767;
}

.textInputWrapper:before {
  transition: border-bottom-color 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
  border-bottom: 1px solid rgba(0, 0, 0, 0.42);
}

.textInputWrapper:before,
.textInputWrapper:after {
  content: "";
  left: 0;
  right: 0;
  position: absolute;
  pointer-events: none;
  bottom: -1px;
  z-index: 4;
  width: 100%;
}

.textInputWrapper:focus-within:before {
  border-bottom: 1px solid var(--accent-color);
}

.textInputWrapper:before {
  transition: border-bottom-color 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
  border-bottom: 1px solid rgba(0, 0, 0, 0.42);
}

.textInputWrapper:focus-within:before {
  border-bottom: 1px solid var(--accent-color);
  transform: scaleX(1);
}

.textInputWrapper:focus-within:after {
  border-bottom: 2px solid var(--accent-color);
  transform: scaleX(1);
}

.textInputWrapper:after {
  content: "";
  transform: scaleX(0);
  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1) 0ms;
  will-change: transform;
  border-bottom: 2px solid var(--accent-color);
  border-bottom-color: var(--accent-color);
}

.textInput::placeholder {
  transition: opacity 250ms cubic-bezier(0, 0, 0.2, 1) 0ms;
  opacity: 1;
  user-select: none;
  color: rgba(255, 255, 255, 0.582);
}

.textInputWrapper .textInput {
  border-radius: 5px 5px 0px 0px;
  box-shadow: 0px 2px 5px rgb(35 35 35 / 30%);
  max-height: 36px;
  background-color: #252525;
  transition-timing-function: cubic-bezier(0.25, 0.8, 0.25, 1);
  transition-duration: 200ms;
  transition-property: background-color;
  color: #e8e8e8;
  font-size: 14px;
  font-weight: 500;
  padding: 12px;
  width: 100%;
  border-left: none;
  border-bottom: none;
  border-right: none;
}

.textInputWrapper .textInput:focus,
.textInputWrapper .textInput:active {
  outline: none;
}

.textInputWrapper:focus-within .textInput,
.textInputWrapper .textInput:focus,
.textInputWrapper .textInput:active {
  background-color: #353535;
}

.textInputWrapper:focus-within .textInput::placeholder {
  opacity: 0;
}
p {
  background-image: linear-gradient(to right, rgba(0, 0, 0, 0.234), rgba(0, 0, 0, 0.233));
  background-clip: text;
  color: #fefefe;
  opacity: 0;
  transition: opacity 0.2s ease-in-out;
  border-radius: 40px;
}


.loader {
  position: relative;
  width: 150px;
  height: 150px;
  background: transparent;
  border-radius: 50%;
  box-shadow: 25px 25px 75px rgba(0,0,0,0.55);
  border: 1px solid #333;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.loader::before {
  content: '';
  position: absolute;
  inset: 20px;
  background: transparent;
  border: 1px dashed#444;
  border-radius: 50%;
  box-shadow: inset -5px -5px 25px rgba(0,0,0,0.25),
  inset 5px 5px 35px rgba(0,0,0,0.25);
}

.loader::after {
  content: '';
  position: absolute;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  border: 1px dashed#444;
  box-shadow: inset -5px -5px 25px rgba(0,0,0,0.25),
  inset 5px 5px 35px rgba(0,0,0,0.25);
}

.loader span {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 50%;
  height: 100%;
  background: transparent;
  transform-origin: top left;
  animation: radar81 2s linear infinite;
  border-top: 1px dashed #fff;
}

.loader span::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: seagreen;
  transform-origin: top left;
  transform: rotate(-55deg);
  filter: blur(30px) drop-shadow(20px 20px 20px seagreen);
}

@keyframes radar81 {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}
    </style>
</head>
<body>

<!-- div style="height: 35px;border-radius: 15px; width: 100%; background-color: rgba(255, 196, 0, 0.529);"> <h4 style="position: relative; text-align: center; font-family: Arial, Helvetica, sans-serif;  bottom: -10%;">Servers Will Be Down Friday the 24th from 8-9 pm</h4></div-->

  <div id="wrapper-load" style="transition: 0.5s; z-index: 9; position: fixed; background-color: #252525; width: 100%; height: 100%;">
    <div class="loader">
      <span></span>
  </div>
  <span style="text-align: center; position: absolute;
  top: 70%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-family: Arial, Helvetica, sans-serif;  color: white; position: absolute; " id="loading-info2">Locating Server...</span>
  <span style="text-align: center; position: absolute;
  top: 75%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-family: Arial, Helvetica, sans-serif;  color: white; position: absolute; " id="loading-info">Loading</span>

<form id="myFormmm" style="transform: scale(0.7); top: 80%; position: fixed; left: 37%;" action="?" method="POST">
  <div class="g-recaptcha" data-sitekey="6Lf7_9YkAAAAAJpIqvrcu8YrcNrWJgWnwoh1Xwqf"></div>
  <br/>
  <input type="submit" value="Submit">
</form>
  </div>

  <script>
    // Define the action to perform when the form is submitted
    const onSubmit = (event) => {
      // Prevent the default form submission
      event.preventDefault();
      
      // Verify the reCAPTCHA response
      grecaptcha.execute('6Lf7_9YkAAAAAJpIqvrcu8YrcNrWJgWnwoh1Xwqf', { action: 'submit' }).then((token) => {
        // reCAPTCHA passed, do something here
        console.log('reCAPTCHA passed:', token);
        document.getElementById('myForm').submit();
        window.onload = function() {
          console.log('Page loaded!');
          document.getElementById('wrapper-load').style.opacity = 0;
          setTimeout(() => {
            document.getElementById('wrapper-load').style.display = 'none';
          }, 500);
          // additional code to be executed when the page is fully loaded goes here
          
        };
      }).catch((error) => {
        // reCAPTCHA failed, handle the error here
        console.error('reCAPTCHA failed:', error);
        alert('Please complete the reCAPTCHA');
      });
    };
    
    // Attach the onSubmit function to the form's submit event
    document.getElementById('myFormmm').addEventListener('submit', onSubmit);
    </script>
  <div id="page_logs" style= "visibility: hidden;  z-index: 6; position: fixed; transition: 0.5s; width: 100%; height: 100%; background-color: #282828;">
   <h1 onclick="close_logs()" style="z-index: 7; left: 0.5%; color: white; cursor: pointer; position: fixed;" >X</h1>
    <h5  id="message-logs-txt" style="color: #fefefe; overflow-y: auto; height: 95%;  position: relative; right: -3%;">Loading messages...</h5>
   
  </div>

  <p id="typing-message"></p>
  <div style=" height: 330px; text-align: center; overflow-y: auto;  border-radius: 15px; width: 100%; background-color: #252525ef;" id="messages"></div>
  <button id="log-button" onclick="logsopen()" type="menu">
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span>Logs</span>


  </button>

  <script>
    var loadedLogs = false;
    page_logs.style.opacity = 0;
    function logsopen() {
      var page_logs = document.getElementById('page_logs');
      var txt_logs = document.getElementById('message-logs-txt');

      
      page_logs.style.visibility = 'visible';
      page_logs.style.opacity = 1;
      
      
       
      if(loadedLogs===false){
        LoadLogs();
        loadedLogs = true;
      } else {

      }
          }
      function LoadLogs() {
        var page_logs = document.getElementById('page_logs');
      var txt_logs = document.getElementById('message-logs-txt');


        fetch('https://raw.githubusercontent.com/Mr-funkinguy/Music-Player-/main/logs.txt')
        .then(response => response.text())
        .then(data => {
          //console.log(data);
          
          setTimeout(() => {
            txt_logs.innerHTML = 'Leading The Data...';
          }, 500);
          setTimeout(() => {
            txt_logs.innerHTML = data;
          }, 1000);
          setTimeout(() => {
            txt_logs.style.wordWrap = 'break-word';
            txt_logs.style.whiteSpace = 'pre-wrap';
          }, 1500);
          setTimeout(() => {
            txt_logs.innerHTML = data;
            txt_logs.scrollTop = txt_logs.scrollHeight;
          
          }, 2000);
        })
      }

      function close_logs() {
        var page_logs = document.getElementById('page_logs');
      var txt_logs = document.getElementById('message-logs-txt');

      page_logs.style.opacity = 0;
      setTimeout(() => {
        page_logs.style.visibility = 'hidden';
      }, 500);
     
      
      }
  </script>

  <form id="message-form" style="position: absolute; bottom: 10px;">

    <h4 style="font-family: Arial, Helvetica, sans-serif; text-align: center; margin-right: 1%;" id="cooldown"></h4>
   
    <div class="textInputWrapper" style="">
      
      <input id="message-input" placeholder="Type Here" type="text" class="textInput">
      <div style="width: 100%; height: 5px;"></div>
      <input style="" value="Guest" id="name-box" placeholder="Name" type="text" class="textInput">
      
  </div>
  
    <button id="send-button" type="submit">
 
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span>Send</span>

    </button>

  </form>
  <script id="script1" src="https://www.gstatic.com/firebasejs/9.0.2/firebase-app.js" type="module"></script>
<script id="script2" src="https://www.gstatic.com/firebasejs/9.0.2/firebase-database.js" type="module"></script>
<script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit"
    async defer>
</script>
<script type="text/javascript">
  var onloadCallback = function() {
    
  };
</script>
<script>
   var script2;
  var script1;
  var loadvar = false;
  var loaf = setInterval(() => {
  console.log("Resources being loaded by the window:");
  var resources = performance.getEntriesByType("resource");
  resources.forEach(function(resource) {
    if (resource.name.includes("Firebase")) {
      document.getElementById('loading-info2').innerHTML = "Located";
      document.getElementById('loading-info').innerHTML = "Loading Chat...";
    } 
    if (resource.name.includes("firebase")) {
      document.getElementById('loading-info2').innerHTML = "Located";
      document.getElementById('loading-info').innerHTML = "Loading Chat...";

    }  
   

    //document.getElementById('loading-info').innerHTML = "Loading - " + resource.name;
    console.log(resource.name);
    clearInterval(loaf);
  });
}, 1);


    
    
  
</script>

<script>
  
</script>

<script id="script3" type="module">
  const now = new Date();
        
  import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.0.2/firebase-app.js';
    import { getDatabase, ref, push, onValue } from 'https://www.gstatic.com/firebasejs/9.0.2/firebase-database.js';
  
  // Initialize Firebase
  const firebaseConfig = {
      apiKey: "AIzaSyBdKXe96_iBAAAv5kh5UEzMn-FA_5rPQQ0",
      authDomain: "chat-4a0b9.firebaseapp.com",
      projectId: "chat-4a0b9",
      storageBucket: "chat-4a0b9.appspot.com",
      messagingSenderId: "428368215269",
      appId: "1:428368215269:web:d538bec65184211903280c",
      measurementId: "G-DTEHZNX4KW"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
  
    const textBox = document.getElementById('name-box');
    const firebaseApp = initializeApp(firebaseConfig);
  
    const messagesRef = ref(getDatabase(firebaseApp), 'messages');
  
    const messagesEl = document.getElementById('messages');
    const messageForm = document.getElementById('message-form');
    const messageInput = document.getElementById('message-input');
    const SendButton = document.getElementById('send-button');
    const cooltxt = document.getElementById('cooldown');
  // Select the target div element to monitor
  const targetDiv = messagesEl;
  // Create a new MutationObserver instance
  const observer = new MutationObserver(() => {
    // When the div is updated, scroll to the bottom
    targetDiv.scrollTop = targetDiv.scrollHeight;
  });
  
  // Configure the observer to watch for childList changes
  const config = { childList: true };
  
  // Start observing the target div
  observer.observe(targetDiv, config);
 
  
    // Listen for new messages in the Firebase database
    onValue(messagesRef, snapshot => {
    messagesEl.innerHTML = '';
    snapshot.forEach(childSnapshot => {
      const message = childSnapshot.val();
      const messageEl = document.createElement('p');
      var hoursRead = now.getHours();
      var minutesRead = now.getMinutes();
      var secRead = now.getSeconds();
      var totaltime = hoursRead + minutesRead;
      var totalMessageTime = childSnapshot.val().hours + childSnapshot.val().minutes;
     
       console.log(message.text)
       const timeDiff = Math.abs(now.getSeconds() - childSnapshot.val().sec);
       var totalsend = childSnapshot.val().hours + childSnapshot.val().minutes;
          if(childSnapshot.val().text.includes('sendAlert')) {
            
            if (timeDiff <= 5 && totaltime===totalsend) {
             
                const strm = childSnapshot.val().text;
                const newStr5 = strm.replace("sendAlert ", "");
                alert(newStr5 + ' \n This Was Sent By A Moderator \n Click Ok To Dismiss')
              
            } else {
              console.log('old')
            }
          }
        
      messageEl.textContent = `${message.hours}:${message.minutes} | ${message.name}: ${message.text}`;
      messageEl.style.opacity = 0;
      messagesEl.appendChild(messageEl);
      setTimeout(() => {
        messageEl.style.opacity = 1;
      }, 100); // adjust the delay as needed to control the speed of the fade-in effect
    });
  });
  
    
    const myInputBox = document.getElementById('name-box');
  const value = myInputBox.value;
  console.log(value);
  let isSendingMessage = false;
   
      
    // Handle form submission to add a new message to the Firebase database
    messageForm.addEventListener('submit', e => {
      e.preventDefault();
      if (isSendingMessage) {
        return;
      }
      const text = messageInput.value;
      const nameBox = document.getElementById('name-box');
      
      var hours;
      var minutes;
      var sec;
      function updateTime() {
        
        sec = now.getSeconds();
        minutes = now.getMinutes();
        hours = now.getHours();
      }
      sec = now.getSeconds();
        minutes = now.getMinutes();
        hours = now.getHours();
      setInterval(updateTime, 1);
      var name = nameBox.value;
    if(name===("010")){
      messageInput.disabled = false;
      textBox.disabled = false;
      SendButton.disabled = false;
      name = "👑 | Bobby 😎"
      console.log('bypass')
    } else if(name.toLowerCase().includes('admin')){
      name = 'Fake ' + name;
    }  else if(name.toLowerCase().includes('mod') || name.toLowerCase().includes('😎') || name.toLowerCase().includes('👑') || name.toLowerCase().includes('administrator') || name.toLowerCase().includes('moderator') || name.toLowerCase().includes('owner') || name.toLowerCase().includes('bobby') ){
      name = 'Fake ' + name;
    } else {
    isSendingMessage = true;
    messageInput.disabled = true;
    textBox.disabled = true;
    SendButton.disabled = true;
    
    var timevar = 5;
    var cooldownn = setInterval(() => {
      
      timevar--

      cooltxt.innerHTML = 'Cooldown Is Enabled! ' + timevar + 's';
 
    }, 1000);
  }
    setTimeout(() => {
    isSendingMessage = false;
    messageInput.disabled = false;
    textBox.disabled = false;
    SendButton.disabled = false;
    timevar = 5;
    cooltxt.innerHTML = '';
    clearInterval(cooldownn);
    }, 5000);
    
    if(text.includes('sendAlert')) {
      if(name===("👑 | Bobby 😎")){
        push(messagesRef, {hours, minutes, sec, name, text});
      } else {
        alert('Forbidden')
      }

    } else if(text.toLowerCase().includes('nigger') || text.toLowerCase().includes('nigga') || text.toLowerCase().includes('hate') && name.toLowerCase().includes("alex")) {
        alert("Banned Word");
    } else {
      push(messagesRef, {hours, minutes, sec, name, text});
    }
      messageInput.value = '';
    });
  
    


  </script>

</body>

</html>
